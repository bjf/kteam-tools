#!/usr/bin/python
from __future__ import print_function

import sys

filename = None
needed = False
patches = False
for line in sys.stdin:
        if line.startswith('+++'):
            if filename is not None and (needed is False or patches is False):
                print(filename)
            filename = line.split()[1]
            patches = False
            needed = False if filename.startswith('retired/') else True
            #print(line, end='')
            continue

        if line.startswith(' break-fix:') or line.startswith(' upstream:'):
            patches = True

        if not line.startswith('+'):
            continue

        if ('DNE' in line or
            'not-affected' in line or
            'released' in line or
            'ignored' in line or
            'Patches_' in line or
            'upstream_' in line or
            ('devel_linux' in line and
             'needs-triage' in line)
            ):
            continue

        if line.rstrip() == '+':
            continue

        #print(filename, patches, "NEEDED:", line, end='')
        if filename:
            needed = True

if filename is not None and (needed is False or patches is False):
    print(filename)
